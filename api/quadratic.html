
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Quadratic &#8212; kemitter 1.0.0 documentation</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <script type="text/javascript" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/icon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Bases" href="basis.html" />
    <link rel="prev" title="Ridge" href="ridge.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          kemitter</a>
        <span class="navbar-text navbar-version pull-left"><b>1.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../introduction.html">Introduction</a></li>
                <li><a href="index.html">API</a></li>
                <li><a href="https://github.com/ashirsch/kemitter">Repository</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">API Reference</a></li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="quadratic">
<h1>Quadratic<a class="headerlink" href="#quadratic" title="Permalink to this headline">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">Quadratic</span></code> model sets up and solves the Ridge (or Tikhonov) least squares problem:</p>
<p>$$\text{minimize } || Ax+\eta-b ||_2 + \alpha || \Delta x_i ||_2$$
$$\text{subject to } x_i \ge 0$$</p>
<p>where A is the a basis matrix, b is an observation, x is a vector of coefficients, and eta is a constant background
term. Alpha is a hyperparameter that specifies the weight given to the smoothness regularization term.</p>
<p><code class="docutils literal notranslate"><span class="pre">Quadratic</span></code> first factorizes the problem into it’s quadratic form</p>
<p>$$\text{minimize } x^T(A^TA + \alpha^2D^TD)x - 2(A^Tb)^T + b^Tb $$</p>
<p>before sending the problem to cvxpy. This results in faster solving times at the cost of performing
the matrix multiplication required by the first term.</p>
<dl class="class">
<dt id="kemitter.model.Quadratic">
<em class="property">class </em><code class="descclassname">kemitter.model.</code><code class="descname">Quadratic</code><span class="sig-paren">(</span><em>alpha</em><span class="sig-paren">)</span><a class="headerlink" href="#kemitter.model.Quadratic" title="Permalink to this definition">¶</a></dt>
<dd><p>Solves and stores results of cvxpy ridge regression solver, posed in its quadratic form.</p>
<dl class="attribute">
<dt id="kemitter.model.Quadratic.name">
<code class="descname">name</code><a class="headerlink" href="#kemitter.model.Quadratic.name" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> – “QUADRATIC” (constant)</p>
</dd></dl>

<dl class="attribute">
<dt id="kemitter.model.Quadratic.alpha">
<code class="descname">alpha</code><a class="headerlink" href="#kemitter.model.Quadratic.alpha" title="Permalink to this definition">¶</a></dt>
<dd><p><em>float</em> – the regularization parameter for the smoothness penalty</p>
</dd></dl>

<dl class="attribute">
<dt id="kemitter.model.Quadratic.cache">
<code class="descname">cache</code><a class="headerlink" href="#kemitter.model.Quadratic.cache" title="Permalink to this definition">¶</a></dt>
<dd><p><em>ndarray</em> – A cached 2D (A^T*A) array from a previous calculation (used for repeated fits).</p>
</dd></dl>

<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="model.html#kemitter.model.model.Model" title="kemitter.model.model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a></p>
</div>
<dl class="method">
<dt id="kemitter.model.Quadratic.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>bases</em>, <em>observation</em>, <em>verbose=True</em>, <em>caching=False</em><span class="sig-paren">)</span><a class="headerlink" href="#kemitter.model.Quadratic.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the model calculations.</p>
<p>Bases and observations are loaded into proper polarized data sets. In this step,
arguments are checked to ensure polarization angles match in value and order. Any bases that have not been
built already are built with their corresponding <code class="docutils literal notranslate"><span class="pre">build()</span></code> method.</p>
<p>Bases and observations of multiple polarizations are then concatenated and given to cvxpy and MOSEK for solving.</p>
<p>The problem is first factorized into its quadratic form by performing the matrix multiplication (A^T*A).
This is an expensive operation that comes with the benefit of much faster solving times. For repeated fits
(for example, fits of multiple frames with the same bases), this resulting matrix can be cached to avoid
repetitive recalculations.</p>
<p>Results are returned and processed in inherited <code class="docutils literal notranslate"><span class="pre">Model</span></code> attributes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>bases</strong> (<em>list of Basis</em>) – The basis objects (built or not) of several polarizations, to be used for fitting.</li>
<li><strong>observation</strong> (<em>list of Observation</em>) – The observation objects of several polarizations, to be used for fitting.</li>
<li><strong>verbose</strong> (<em>bool</em>) – The console verbosity of the called solver (MOSEK) [default True].</li>
<li><strong>caching</strong> (<em>bool</em>) – Whether or not to use or store the resulting basis-matrix multiplication [default False].</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="../_sources/api/quadratic.rst.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2018, Alex Hirsch.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.2.<br/>
    </p>
  </div>
</footer>
  </body>
</html>